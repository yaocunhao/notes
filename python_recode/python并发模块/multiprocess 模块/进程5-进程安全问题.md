# 一、锁的选择

- 线程锁对进程是无效的

```python
"""测试线程池中一个线程的崩溃是否会影响其它的线程：不会"""
"""测试进程池的锁, 线程锁对进程是无效的"""

import multiprocessing as ms
import time
import os
import threading

mutex = ms.Lock()

# 当一个进程的i,j两个值同时输出，才说明这个进程在这里进行了加锁处理(变成了串行)
def func(i, j):
  with mutex: # 进行加锁处理
    print(i)
    time.sleep(1)
    print(j)


print('start')
ret_list = []
with ms.Pool(processes=10) as pool:  # 上下文管理
  for i in range(5):
    pool.apply_async(func, (i, i))
  pool.close()
  pool.join()
```

