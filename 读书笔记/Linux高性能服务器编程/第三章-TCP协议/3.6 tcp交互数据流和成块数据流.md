

# 一、分类

- tcp报文段携带的应用程序数据按照长度分为两种：交互数据和成块数据
- 交互数据仅包含很少的字节，使用交互数据的应用程序(或协议)对**实时性**要求比较高
- 成块数据的长度则通常为tcp报文运行的最大数据长度。使用成块数据的 应用程序或协议对**传输效率比较高**



# 二、交互数据流

- 交互数据流中引入了一个概念：**延迟确认**
- 在交互数据流中，服务器应答总是在发送数据的同时进行数据的确认应答(本地/局域网)。这样**有利于减少tcp报文量**。但是在广域网中就未必如此了，因为广域网上的交互流数据可能会受到很大延迟，并且携带的交互数据微小的tcp报文数量一般很多，这些都可能导致拥塞发生

# 三、成块数据流

- 当传输大块数据的时候，发送方会连续发送多个tcp报文，接收方可以一次性确认接收这些报文

- 发送方通过接收通告窗口和拥塞窗口的大小来知晓能够连续发送多少个tcp报文

  - 本质就是通过窗口大小知道接收方的内核缓冲区的容量剩余量

  - 不考虑拥塞窗口的计算方法

    ```
    N： 窗口因子大小
    win窗口大小 x 2的N次方
    ```

    

