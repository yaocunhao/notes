# 一、文档

- [Link](https://brpc.apache.org/docs/server/serve-httph2/)

# 二、编译踩坑

- brpc cmake构建会找不到snappy，[因此需要手动的去修改对应的CMakeLists.txt](https://github.com/apache/brpc/pull/1799)

  ```shell
  # 157
  if(WITH_SNAPPY)
     find_package(Snappy REQUIRED)
  endif()
  
  # 225
  if(WITH_SNAPPY)
    set(DYNAMIC_LIB ${DYNAMIC_LIB} Snappy::snappy)
    set(BRPC_PRIVATE_LIBS "${BRPC_PRIVATE_LIBS} -lsnappy")
      message("${BRPC_PRIVATE_LIBS}")
  endif()
  ```

- 当使用测试用例时(example/echo_c)，依赖库的路径在config.mk 之中(注意加上-lsnapppy)。 brpc库的路径在Makefile 之中都需要细微修改(更改brpc的安装位置)

  ```makefile
  # 2、修改makefile
  HDRS+=../../build/install/include
  LIBS+=../../build/install/lib
  ```

  

