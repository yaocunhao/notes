# 一、是什么

- 在软件开发中，有时候为了完成一项较为复杂的功能，一个客户类需要和多个业务类交互，而这些需要交互的业务类经常会作为一个整体出现，由于涉及的类比较多，导致使用时代码比较复杂，此时特别需要一个类似服务员一样角色，由它来负责和多个业务类进行交互，而客户类只需与该类交互
- 外观模式通过引入一个新的外观类（Facade）来实现该功能，外观类充当了软件系统中的"服务员"，它为多个业务类的调用提供了一个统一的入口，简化了类与类之间的交互。在外观模式中，**需要交互的类被称为子系统（Subsystem）**
  ![image-20220918113023381](https://yrecord.oss-cn-hangzhou.aliyuncs.com/picture/202209181130443.png)

# 二、 应用场景和优缺点

## 2.1 应用场景

- 当要为一个复杂子系统提供一个简单接口时可以使用外观模式
- 客户端与子系统之间存在很大的依赖性，引入外观模式将子系统与客户以及其它子系统解耦

## 2.2 优点

- 对客户屏蔽子系统组件，减少了客户处理对象的数目，使得子系统使用起来更加的容易
- 实现了子系统与客户之间的松耦合关系，使得子系统的组件变化不会影响到调用它的客户类
- 降低了大型软件系统中的编译依赖性，一个子系统的修改对其它子系统没有任何影响

## 2.3 缺点

- 不能很好的限制客户端使用子系统类，如果客户访问子系统做太多的限制则减少了可变性和灵活性
- 在不引入抽象外观类的情况下，增加新的子系统可能需要修改外观类或者客户端的源代码，违背"开闭原则"



# 三、代码演示

- 假设现在有客户为一个家庭，这个家庭中使用的产品有很多，**此时就可以将产品抽象为电器子系统和非电器子系统**，再用不同的外观类来实现这些电器的开关

  ```c++
  #include <iostream>
  using namespace std;
  
   
  //子系统：电视机的开股阿奴
  class TV {
  public:
      void tVOn() {
          cout << "turn on the television!" << endl;
      }
      void tVOff() {
          cout << "turn off the television!" << endl;
      }
  };
  
  //子系统： 空调的开关
  class Conditioner {
  public:
      void conditionerOn() {
          cout << "turn on the conditioner!" << endl;
      }
      void conditionerOff() {
          cout << "turn off the conditioner!" << endl;
      }
  };
  
  //外观类 将客户端的请求代理给适当的子系统对象
  // 此时客户端就可以使用这个外观类而不必知道里面的电器逻辑是如何实现的
  class ElectricSwich
  {
  public:
      ElectricSwich() {
        tv = new TV;
        conditioner = new Conditioner;
      }
  
      ~ElectricSwich() {
        delete tv;
        delete conditioner;
      }
  
      void electricOn() {
          tv->tVOn();
          conditioner->conditionerOn();
      }
      void electricOff() {
          tv->tVOff();
          conditioner->conditionerOff();
      }
  private:
      TV* tv;
      Conditioner* conditioner;
   
  };
   
   
  int main()
  {
      ElectricSwich* electricSwich = new ElectricSwich;
      electricSwich->electricOn();
      electricSwich->electricOff();
      delete electricSwich;
  	return 0;
  }
  ```

  