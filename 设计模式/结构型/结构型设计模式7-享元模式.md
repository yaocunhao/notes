# 一、是什么

- 运用共享技术有效地支持大量细粒度的对象。主要用于减少创建对象的数量，以减少内存占用和提高性能
- 比如创建一个功能类的对象，在代码中多次会使用到，如果在很多地方对其进行创建会导致一定的性能消耗，因此可以对其进行存储，下次使用的时候再将其取出即可



# 二、代码演示

-   假设使用一支笔，没有的时候就将其存储起来，有的话直接从中将其提取出来即可

```c++
#include <iostream>
using namespace std;
#include <string>
#include <vector>
class Pen
{
public:
  Pen(string &type, string &price)
      : type(type), price(price)
  {
  }

  void show()
  {
    cout << "the pen price is " << price << "type:" << type << endl;
  }

  string type;
  string price;
};

class PenManager
{
public:
  Pen get_pen(string pen_name, string pen_price)
  {
    for (auto &pen : arr)
    {
      if (pen.type == pen_name)
      {
        cout << "这支笔已经存在了，直接返回!!" << endl;
        return pen;
      }
    }

    cout << "这支笔不存在，将其保存起来" << endl;
    Pen pen = Pen(pen_name, pen_price);
    arr.push_back(pen);
    return pen;
  }

private:
  vector<Pen> arr;
};

int main()
{
  PenManager pen_manage = PenManager();
  Pen pen_1 = pen_manage.get_pen("blue", "100");
  Pen pen_2 = pen_manage.get_pen("blue", "100");

  //这支笔不存在，将其保存起来
  // 这支笔已经存在了，直接返回!!

  return 0;
}
```

