- [参考资料](https://www.cnblogs.com/eternityz/p/13595660.html)



# 一、注意事项

- 查询的时候，如果使用了正则表达式，一定要注意，<font color=yellow>如果查询字段没有指定起始字符，查询将不会使用索引</font>

  ```python
  正则表达式可以灵活地匹配查询条件，如果希望正则表达式能命中索引，就要注意了：
  Mongodb能为前缀型的正则表达式命中索引，比如：需要查询Mail中user以z开头的：
  /^z/
  如果有user索引，这种查询很高效
  但其他的即使有索引，也不会命中索引，比说：需要查询Mail中的user中含有z的：
  /.*z.*/
  /^.*z.*/
  这种查询是不会命中到索引的，当数据量很大，速度很慢
  总之，^后的条件必须明确，不能^.* ^[a-z]之类开头的
  ```

  
