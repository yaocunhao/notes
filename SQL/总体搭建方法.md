# 一、redis

- 压缩包下载位置 /usr/local/tmp

- 解压后文件存放至 /usr/local/src 之中

- 在/usr/local/bin 下创建 redis-cli、redis-master-server 的软链接

- 将reids.conf 配置文件挪动到 /usr/local/etc 之中

- 修改redis中的配置文件

  ```
  默认 protected-mode yes 保护模式时开启的，如果你需要远程连接请将他设置为 protected-mode no
  
  默认 bind 127.0.0.1 是没有注释的，如果你要开始远程连接可以注释 # 他，或者指定IP
  
  设置密码：requirepass后面添加密码
  
  ```

  - 默认情况下 daemonize no 是不会作为守护进程运行的，如果需要设置为守护进程方式运行（后台运行）则将其改为 daemonize yes

- redis-server redis.conf 启动服务



# 二、mysql

- 拉取解压至/usr/local 之中

- 在/usr/local/bin 之中创建 mysql、mysqld、mysql.server 软链接(客户端、服务端、服务端)

- 在/usr/local/etc 之中创建配置文件

  ```
  [mysqld]
  bind-address=0.0.0.0
  port=3306
  user=mysql # 用户
  
  # 下面几个记得修改
  basedir=/home/ych/mysql-5.7.38-linux-glibc2.12-x86_64 # 安装路径
  datadir=/data/mysql # 数据目录
  #socket=/tmp/mysql.sock  # 不要修该目录，容器报错
  log-error=/data/mysql/mysql.err # 错误日志目录
  pid-file=/data/mysql/mysql.pid
  
  #character config
  character_set_server=utf8mb4
  symbolic-links=0
  explicit_defaults_for_timestamp=true
  
  ```

- 进行初始化 mysqld --defaults-file=/usr/local/etc/my.cnf --initialize,记得my.cnf前面需要绝对路径

- 查看初始化的root密码 cat /usr/local/data/mysql/mysql.err

- 启动mysql连接后修改密码

  ```
  SET PASSWORD = PASSWORD('123456'); # 设置当前用户密码
  ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER; # 永不过期
  FLUSH PRIVILEGES;                                 # 刷新权限
  
  ```

- 远程连接

  ```
  use mysql                                            #访问mysql库
  update user set host = '%' where user = 'root';      #使root能再任何host访问
  FLUSH PRIVILEGES;                                    #刷新
  ```

- 创建用户

  ```
  create user 'voyager'@'%' identified by 'didi1234';
  select user,host  from  user; # 查看用户和登录主机
  show grants for root; # 查看权限
  GRANT ALL PRIVILEGES ON *.* TO 'voyager'@'%'; # 赋予所有权限
  ```

# 三、mongodb

- 拉取解压至/usr/local 之中

- 在/usr/local/bin 之中创建 mongo、mongod软链接

- 在 /usr/local/etc 之中创建mongod.conf 配置文件

  ```
  bind_ip_all = true # 任何机器可以连接
  logpath=/usr/local/data/mongod.log
  dbpath=/usr/local/data/mongod
  port=27017
  logappend=true
  fork=true #是否后台运行
  ```

- 在/usr/local/data/ 之中创建 mongod文件夹(数据文件)

- 配置文件

  ```
  logpath=/usr/local/data/mongod/mongod.log
  dbpath=/usr/local/data/mongod
  port=27017
  logappend=true
  fork=true #是否后台运行
  bind_ip_all=true # 远程链接
  ```

- 启动mongodb

  ```
  mongod -f /usr/local/etc/mongodb.conf
  
  # 停止
  mongod -f /usr/local/etc/mongodb.conf --shutdown
  
  # 注意如果启动失败很可能是data文件的权限不够
  ```

  

