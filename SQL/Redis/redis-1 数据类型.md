# 一、数据类型介绍

-  Redis 是 Key-Value 类型缓存型数据库，Redis 为了存储不同类型的数据，提供了五种常用数据类型，如下所示：

  - string（字符串）

  - hash（哈希散列）

  - list（列表）

  - set（集合）

  - zset（sorted set：有序集合）

# 二、string

## 2.1 基本概念

- string是redis最基本的数据类型
- 字符串是一组字节，在 Redis 数据库中，**字符串具有二进制安全（binary safe）特性**，这意味着它的长度是已知的，**不由任何其他终止字符决定的**，一个字符串类型的值最多能够存储 512 MB 的内容 
  - `二进制安全：是一种主要用于字符串操作函数的计算机编程术语。只关心二进制化的字符串，不关心具体的字符串格式，严格的按照二进制的数据存取。这保证字符串不会因为某些操作而遭到损坏。`

## 2.2  命令操作

- set/get 单个值的存储与查询

  ```python
  127.0.0.1:6379> set sk 'www.baidu.com'
  OK
  
  127.0.0.1:6379> get sk
  "www.baidu.com"
  ```

- MSET/MGET 多个值的存储与查询

  ```python
  127.0.0.1:6379> MSET k1 '1' k2 '2' k3 '3'
  OK
  
  127.0.0.1:6379> MGET k1 k2 k3 sk
  1) "1"
  2) "2"
  3) "3"
  4) "www.baidu.com"
  ```

# 三、hash散列

## 3.1 概念

- hash 散列是由字符串类型的field和value组成的映射表，也可以理解成一个包含多个键值对的集合，由于hash的这个特点所以一般用来存储对象

## 3.2 命令操作

- HSET/HGETALL 同时设置多个字段/查询全部字段`(注意：一个 Hash 中最多包含 2^32-1 个键值对)`

  ```
  127.0.0.1:6379> HSET hkey uername tom age 111 sex boy
  (integer) 3
  127.0.0.1:6379> HGETALL hkey
  1) "uername"
  2) "tom"
  3) "age"
  4) "111"
  5) "sex"
  6) "boy"
  ```

# 四、list列表

## 4.1 概念

- Redis List 中的元素是字符串类型，其中的元素按照插入顺序进行排列，允许重复插入，最多可插入的元素个数为 2^32 -1 个（大约40亿个），您可以添加一个元素到列表的头部（左边）或者尾部（右边) `注意：Redis 的列表类型同样遵循索引机制`

## 4.2 命令操作

- LPUSH/LRANGE sub1 sub2 插入数据/ 查看数据

- 后插入的数据，对应的下标更小

  ```python
  # 插入数据
  127.0.0.1:6379> LPUSH list value1
  (integer) 1
  127.0.0.1:6379> LPUSH list value2
  (integer) 2
  127.0.0.1:6379> LPUSH list value3
  (integer) 3
  
  # 查看数据
  127.0.0.1:6379> LRANGE list 0 2
  1) "value3"
  2) "value2"
  3) "value1"
  
  127.0.0.1:6379> LRANGE list 1 4
  1) "value2"
  2) "value1"
  ```

#  五、set集合

## 5.1 概念

是一个**字符串类型元素构成的无序集合**。**不允许重复元素的出现**，在 Redis 中，集合是通过哈希映射表实现的，所以无论是添加元素、删除元素，亦或是查找元素，它们的时间复杂度都为 O(1)

## 5.2命令 操作

```python
# 设置
127.0.0.1:6379> sadd setk v1
(integer) 1
127.0.0.1:6379> sadd setk v2
(integer) 1

# 读取
127.0.0.1:6379> smembers setk
1) "v2"
2) "v1"
```

# 六、zset 有序集合

## 6.1 概念

- Redis zset 是一个字符串类型元素构成的**有序集合**，集合中的元素不仅具有**唯一性**，而且每个元素还会关联一 个 double 类型的分数，该分数允许重复。Redis 正是通过这个分数来为集合中的成员排序
- 分数允许重复，但是值不允许重复

## 6.2 命令操作

```python
# 添加元素
127.0.0.1:6379> zadd zk 0 v1  # 值前面的数组为分数
(integer) 1
127.0.0.1:6379> zadd zk 0 v2
(integer) 1
127.0.0.1:6379> zadd zk 0 v3
(integer) 1

127.0.0.1:6379> zadd zk 0 v3 # 添加重复的值失败
(integer) 0

127.0.0.1:6379> zadd zk 2 v4
(integer) 1


127.0.0.1:6379> zscore zk v4 # 查看对应的分数
"2"

127.0.0.1:6379> zrange zk 0 2 # 查看0-2分对应的所有值
1) "v1"
2) "v2"
3) "v3"
```



