- [参考链接](https://blog.csdn.net/ayqy42602/article/details/107655699?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165760593416782395317239%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=165760593416782395317239&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-107655699-null-null.142^v32^pc_rank_34,185^v2^control&utm_term=%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B7%A8%E5%9F%9F&spm=1018.2226.3001.4187)
- 是什么
  - 当服务器处在不同的域名时，在访问数据的时候，是不允许访问cookies信息的
  - 如果需要在不同域名范围cookies怎么办？(比如访问cookies获得权限认证)
    - 可以在本地设置一个正向代理，客户端还是在同一个域名之内去进行数据的请求，这样就解决了跨域问题



# 一、跨域是什么

- [参考链接](https://blog.csdn.net/lambert310/article/details/51683775?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-51683775-blog-84956552.t5_layer_eslanding_A_0&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-51683775-blog-84956552.t5_layer_eslanding_A_0&utm_relevant_index=2)

- 跨域，指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是***\*浏览器施加的\****安全限制

- ***\*所谓同源是指，域名，协议，端口均相同，不明白没关系，举个栗子：\****

  ```python
  http://www.123.com/index.html 调用 http://www.123.com/server.php （非跨域）
  
  http://www.123.com/index.html 调用 http://www.456.com/server.php （主域名不同:123/456，跨域）
  
  http://abc.123.com/index.html 调用 http://def.123.com/server.php （子域名不同:abc/def，跨域）
  
  http://www.123.com:8080/index.html 调用 http://www.123.com:8081/server.php （端口不同:8080/8081，跨域）
  
  http://www.123.com/index.html 调用 https://www.123.com/server.php （协议不同:http/https，跨域）
  
  请注意：localhost和127.0.0.1虽然都指向本机，但也属于跨域。
  ```

- 解决办法：

- JSONP：

  使用方式就不赘述了，但是要注意JSONP只支持GET请求，不支持POST请求

- 代理：

  例如www.123.com/index.html需要调用www.456.com/server.php，可以写一个接口www.123.com/server.php，由这个接口在后端去调用www.456.com/server.php并拿到返回值，然后再返回给index.html，这就是一个代理的模式。相当于绕过了浏览器端，自然就不存在跨域问题

- PHP端修改header（XHR2方式）

  在php接口脚本中加入以下两句即可：

  header('Access-Control-Allow-Origin:*');//允许所有来源访问

  header('Access-Control-Allow-Method:POST,GET');//允许访问的方式
  